<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>iReporter</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="css/style.css" />
</head>

<body>
    <div class="topnav">
        <a id="logo" href="#">iReporter</a>
        <div class="right">
            <a href="home.html">Home</a>
            <a href="list.html">My Flags & Interventions</a>
            <a href="allflags.html">All Flags & Interventions</a>
            <a href="profile.html">Profile</a>
            <a onclick="logout()" class="pointer_cursor">Logout</a>
        </div>


    </div>
    <!-- create new flag -->
    <div class="formcontainer">
        <p>Create New:</p>
        <form id="new_incident_form" method="POST">
            <ul class="formclass">
                    <label id="flags_error_label"></label>
                <li>
                    <label class="form_label">Record Type</label>
                    <select name="field4" id="record_type" class="field-select" required>
                        <option value="red-flag">Red-Flag</option>
                        <option value="intervention" selected>Intervention</option>
                    </select>
                </li>
                <li>
                    <label class="form_label">Description</span></label>
                    <textarea name="description" id="description" class="flags-inputs field-textarea" required></textarea>
                </li>
                <li>
                    <label class="form_label">Search Location </label>
                    <input type="text" name="location" id="location" class="flags-inputs" placeholder="Enter Location Name" required/>
                    <input type="hidden" id="location_name" name="location_name" />
                    <input type="hidden" id="location_lat_long" name="location_lat_long" />
                </li>
                <li>
                    <input id="submit" type="submit" value="Create" />
                </li>
                
            </ul>
        </form>
    </div>
    <br><br><br><br>
    <div class="footer">
        <p>&copy; 2018 </p>
    </div>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDMokcOGCn1mP4SnEF2vi4J9rPXdEEaj5A&libraries=places" type="text/javascript"></script>

    <script type="text/javascript">
        function initialize() {
            var input = document.getElementById('location');
            var autocomplete = new google.maps.places.Autocomplete(input);
            google.maps.event.addListener(autocomplete, 'place_changed', function () {
                var place = autocomplete.getPlace();
                document.getElementById('location_name').value = place.name;
                let lat_long = place.geometry.location.lat() +", "+ place.geometry.location.lng()
                console.log(place.geometry.location.lat() +", "+ place.geometry.location.lng())
                document.getElementById('location_lat_long').value = lat_long
            });
        }
        google.maps.event.addDomListener(window, 'load', initialize); 
    </script>
    <script src="js/incidents.js"> </script>
</body>

</html>